# Chat Widget Components

## Обзор

Чат-виджет для сайта Lysechko Agency с поддержкой русской и английской локализации.

## Компоненты

### ChatProvider
Контекст для управления состоянием чата.

**Функции:**
- Ленивая загрузка чата при взаимодействии пользователя
- Интеграция с GTM для аналитики
- Поддержка локализации (ru/en)
- Обработка ошибок загрузки

### ChatButton
Кнопка чата с адаптивным дизайном.

**Особенности:**
- Фиксированное позиционирование (правый нижний угол)
- Адаптивный размер для мобильных устройств
- Пульсирующий индикатор для привлечения внимания
- Accessibility поддержка

### ChatStatus
Индикатор статуса чата.

**Функции:**
- Отображение текущего состояния чата
- Анимированный индикатор активности

## Использование

```tsx
import { ChatProvider } from '@/components/chat/ChatProvider'
import ChatButton from '@/components/chat/ChatButton'
import ChatStatus from '@/components/chat/ChatStatus'

export default function Layout({ children }) {
  return (
    <ChatProvider>
      {children}
      <ChatButton />
      <ChatStatus />
    </ChatProvider>
  )
}
```

## Конфигурация

### Сервер чата
- **URL:** `http://46.202.155.177:8080`
- **WebSocket:** `ws://46.202.155.177:8080/ws/`
- **CSS:** `http://46.202.155.177:8080/chat_widget.css`
- **JS:** `http://46.202.155.177:8080/chat_widget.js`

### GTM события
- `chat_loaded` - чат загружен
- `chat_opened` - чат открыт
- `chat_closed` - чат закрыт
- `chat_message_sent` - сообщение отправлено

## Локализация

Автоматическое определение языка из URL:
- `/` - русский
- `/en` - английский

## Производительность

- Ленивая загрузка чата
- Кэширование ресурсов браузером
- Оптимизированные анимации
- Минимальное влияние на Core Web Vitals

## Тестирование

1. Откройте сайт
2. Прокрутите страницу или кликните где-то
3. Появится кнопка чата
4. Нажмите на кнопку
5. Отправьте тестовое сообщение
6. Проверьте Telegram группу 